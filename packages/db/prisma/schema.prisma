generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

enum pairStatus {
  COMPLETED
  SINGLE
  SUSPEND
  DELETED
}

model User {
  id            String @id @default(uuid())
  name          String @unique
  pin           String?
  firstPartner  Pair?  @relation("firstPartner")
  secondPartner Pair?  @relation("secondPartner")
}

model Pair {
  id String @id @default(uuid())

  firstPartnerId String @unique
  firstPartner   User   @relation("firstPartner", references: [id], fields: [firstPartnerId])

  secondPartnerId String @unique
  secondPartner   User   @relation("secondPartner", references: [id], fields: [secondPartnerId])

  status                pairStatus
  phrase                String     @unique
}
